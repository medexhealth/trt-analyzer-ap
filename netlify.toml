# This configuration file tells Netlify how to build and deploy your site.

[build]
  # This is the most critical line. It commands Netlify to run "npm install"
  # to download the necessary packages (like @google/genai) for your function.
  command = "npm install"
  
  # This tells Netlify that your website's files (like index.html) are in the root directory.
  publish = "/"

[functions]
  # This tells Netlify where to find your serverless function code.
  directory = "netlify/functions"

# This section provides specific settings for all functions.
[functions."*"]
  # Specifies the bundler to use for the function. 'esbuild' is modern and fast.
  node_bundler = "esbuild"
  # Sets the Node.js runtime version to match your local environment and package requirements.
  node_version = 22
